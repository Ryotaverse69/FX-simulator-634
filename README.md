# FX投資シミュレーター

ブラウザで動くシンプルなFX投資シミュレーターです。現在価格は手動入力とし、以下を考慮した月次シミュレーションを行います。

- 資金、毎月の入金額
- レバレッジ（毎月リバランスして一定倍率を維持）
- スワップポイント（1万通貨/日、符号は入力値のまま適用）
- 月間価格変動（％、買いで上昇=プラス）

結果はグラフ（Chart.js）と明細表で表示します。

## 使い方

1. `index.html` をブラウザで開きます。
2. 通貨ペアを選び「取得」を押すと現在価格が反映されます（exchangerate.host）。
3. 自動取得を使う場合は「自動取得」をONにし、取得間隔（秒）を設定します。必要なら「取得時に自動でシミュレーション」にチェック。
4. 必要に応じて現在価格を手動で上書きできます。
5. 各パラメータを入力し「シミュレーション」を押します。

## シミュレーションの仕様

- 価格: 入力した「1ベース通貨=何円か」の価格を起点に、毎月「月間価格変動（％）」だけ変化させます。
- 保有数量: 毎月、資産×レバレッジ÷価格 で再計算（一定レバレッジを仮定）。
- 価格損益: 売買方向（買い=プラス、売り=マイナス）×保有数量×月間の価格変動額。
- スワップ: （保有数量/1万）×「スワップポイント（1万通貨/日）」×30日。
- 入金: 指定した毎月の入金額を加算。
- 次月資産: 上記すべてを合計したもの。

注意: 実際のFXの証拠金・必要資金・スワップ・ロールオーバー・建玉調整などを単純化しており、教育用の近似モデルです。

## 価格データについて

- 「価格ソース」で手動/自動を選択できます。自動は `exchangerate.host` を利用。対応ペア: USDJPY, GBPJPY, EURJPY, MXNJPY, ZARJPY, TRYJPY

## カスタマイズのヒント

- スワップポイントの単位を変更したい場合は `script.js` の `swapPnl` 計算を修正してください。
- 月ごとの日数を実カレンダーにしたい場合は `daysPerMonth` を配列化して月ごとに使い分けてください。
- 複数ペアの同時運用や配分比率対応も拡張可能です。

## 免責

本ツールは情報提供・学習目的であり、投資助言ではありません。実運用は自己責任でお願いします。
